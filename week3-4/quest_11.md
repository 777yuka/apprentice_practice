# シェルスクリプトを書くことができる

### シェルスプリクトとは
Unix/Linux等のオペレーティングシステム上で使用されるスクリプト言語の一つで、コマンドやプログラムをまとめて自動的に実行するためのスクリプトです。通常、シェルスクリプトはコマンドライン上で作成され、シェルプログラムの形式で保存されます。  
シェルスクリプトは、コマンドを直接入力するのではなく、複数のコマンドをまとめて一括実行したり、条件分岐や繰り返し処理を組み込んで自動化を実現することができます。また、シェルスクリプトには変数や関数を使用することもできます。  
一般的に、シェルスクリプトは、ターミナル上での繰り返し作業や複雑な処理を自動化するために使用されます。また、システム管理やバッチ処理などでもよく使用されます。  
  
---

## 1. Hello

シェルスクリプトのファイルを作成し、「Hello!」と出力してください。

なお、シェルスクリプトを実行する際にはファイルに実行権限が付与されている必要があることに気を付けてください。
<br>

### ▼回答
シェルスクリプトのファイルを用意する
```bash
$ touch quest_11_1.sh
```
権限を確認して、実行権限を付与する
```bash
$ ls -l quest_11_1.sh
=> -rw-r--r--  1 yuka  staff  13  4 30 12:24 quest_11.sh

$ chmod +x quest_11_1.sh
=> -rwxr-xr-x  1 yuka  staff  13  4 30 12:24 quest_11.sh
```
ファイルに文字を入力し、出力する
```bash
$ echo 'echo "Hello!"' >> quest_11_1.sh
$ ./quest_11_1.sh
=> Hello!
```

---

## 2. 標準入力から値を受け取る

シェルスクリプトのファイルに「What's your name?」と出力し、ユーザーに名前の入力を求めます。その後ユーザーが入力した名前に対して、「Welcome, $name!」（$name は入力された名前）と出力する処理を追加してください。
<br>

### ▼回答
- readコマンド  
ユーザーからの入力を受け取り、指定した変数に値を代入するためのコマンド  
  
quest_11_2.shファイル（実行権限のあるファイル）に以下を記述する
```bash
echo "What's your name?"
read name
echo "Welcome, $name!"
```
実行する
```bash
$ ./quest_11_1.sh
```
実行結果
```bash
What's your name?
Yuka # ユーザーが入力
Welcome, Yuka!
```

---

## 3. 条件分岐

四則演算を行う電卓を作成してください。実行すると以下の挙動になります。
  
```bash
Enter two numbers:
10 # ユーザーが入力
11 # ユーザーが入力
Choose an arithmetic operation (+, -, *, /):
+ # ユーザーが入力
The result:21
```
  
なお、割り算の時の割る数が 0 であるケースや、演算子の記号 +, -, *, / が合致しないケースを考慮するかは任意とします。
<br>

### ▼回答

- 条件分岐の構文
```bash
if [ 条件式1 ]; then
  # 条件式1が真の場合に実行されるコマンド群
elif [ 条件式2 ]; then
  # 条件式2が真の場合に実行されるコマンド群
else
  # いずれの条件も真ではない場合に実行されるコマンド群
fi
```
<br>

quest_11_3.shファイル（実行権限のあるファイル）に以下を記述する
```bash
echo "Enter two numbers:"
read num1
read num2

echo "Choose an arithmetic operation (+, -, *, /):"
read operator

# 二重の括弧[[]]を使用する場合、比較演算子==や!=を使って文字列の比較を行うことができる
if [[ "$operator" == "+" ]]; then
  result=$(($num1 + $num2))
elif [[ "$operator" == "-" ]]; then
  result=$(($num1 - $num2))
elif [[ "$operator" == "*" ]]; then
  result=$(($num1 * $num2))
elif [[ "$operator" == "/" ]]; then
  if [[ $num2 -eq 0 ]]; then # 2つの値が等しい場合に真（true）を返す
    echo "Error: division by zero"
    exit 1 # プログラムを強制終了するためのコマンド
  else
    result=$(($num1 / $num2))
  fi
else
  echo "Invalid operator"
  exit 1  # プログラムを強制終了するためのコマンド
fi

echo "The result: $result"
```
実行する
```bash
$ ./quest_11_3.sh
```
  
- `-eq`について  
`-eq`は、Bashスクリプトなどの条件式で使用される比較演算子の1つ（コマンドではない）  
2つの値が等しい場合に真（true）を返します。  
  
- `exit 1`について  
このコマンドは、プログラムを強制終了するためのもので、引数の値を終了ステータスとして返します。  
ここでは1が指定されているため、プログラムは終了ステータス1で終了します。  
終了ステータス1は、シェルスクリプトが実行された結果として出力される終了コードの1つで、一般的に「エラー」を示します。プログラムが想定された方法で機能しなかった場合、またはユーザーからの入力が不適切であった場合など、エラーが発生したことを示します。プログラムやシェルスクリプトが正常に終了した場合は、終了ステータス0が出力されます。  
これによって、呼び出し元のプログラムなどでエラー処理が行われることが想定されています。  

---

## 4. 繰り返し処理

for 文 または while 文を利用して、1~100までのうち、偶数の数字を表示する処理を書いてください。以下の結果が出力されます。

```bash
2 4 8 ... 100
```
<br>

### ▼回答
- 構文
```bash
for 変数 in リスト
do
  処理
done
```
for文は、変数にリストの要素を順次代入しながら、処理を繰り返します。  
リストには、スペース区切りで複数の要素を指定できます。  
  
```bash
while 条件式
do
    処理
done
```
while文は、条件式が真である限り、処理を繰り返します。  
条件式が偽になった時点でループを終了します。  
  
どちらの構文も、doとdoneの間に記述された処理が繰り返されます。  

- 二重括弧の理由  
`(( ))` は、算術式の展開（シェルスクリプトで算術式を評価すること、変数に数値を代入し、それらの値を算術演算子を使って計算すること）に使用されるBashの構文。  
算術演算子：数値計算に用いられる演算子のこと。加算（+）、減算（-）、乗算（*）、除算（/）、剰余（%）がある。  

<br>

```bash
for (( i=1; i<=100; i++ )) # forループの初期化、継続条件、およびステップ条件を指定
do
  if (( $i % 2 == 0 )) # 2で割ったあまりが0だった場合、偶数と判定
  then
    echo $i
  fi
done
```

```bash
i=1

while [ $i -le 100 ] # -leは、左辺が右辺以下である場合に真を返す
do
  if (( $i % 2 == 0 )) # 2で割ったあまりが0だった場合、偶数と判定
  then
    echo $i
  fi
  ((i++)) # 変数iの値を1増やす
done
```

